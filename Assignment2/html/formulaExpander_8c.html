<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Assignment2: formulaExpander.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Assignment2<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">formulaExpander.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implementation for expanding, validating, and processing chemical formulas.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="formulaExpander_8h_source.html">formulaExpander.h</a>&quot;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab07a1e1ddfd2460566b01d3d9ce95bc9" id="r_ab07a1e1ddfd2460566b01d3d9ce95bc9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="formulaExpander_8c.html#ab07a1e1ddfd2460566b01d3d9ce95bc9">MAX_FORMULA_LENGTH</a>&#160;&#160;&#160;1024</td></tr>
<tr class="memdesc:ab07a1e1ddfd2460566b01d3d9ce95bc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer size for reading formulas.  <br /></td></tr>
<tr class="separator:ab07a1e1ddfd2460566b01d3d9ce95bc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aab8540913ebd8281932958f8e6254483" id="r_aab8540913ebd8281932958f8e6254483"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="formulaExpander_8c.html#aab8540913ebd8281932958f8e6254483">formulaProcessor</a> (const char *inputFile, const char *outputFile)</td></tr>
<tr class="memdesc:aab8540913ebd8281932958f8e6254483"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes chemical formulas from a file and writes the expanded formulas to another file.  <br /></td></tr>
<tr class="separator:aab8540913ebd8281932958f8e6254483"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1532f6ab958019eaf7f0539b4372ddd8" id="r_a1532f6ab958019eaf7f0539b4372ddd8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="formulaExpander_8c.html#a1532f6ab958019eaf7f0539b4372ddd8">countProtons</a> (const char *inputFile, const char *outputFile, <a class="el" href="structElement.html">Element</a> periodicTable[])</td></tr>
<tr class="memdesc:a1532f6ab958019eaf7f0539b4372ddd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counts the total number of protons in the chemical formulas found in a file.  <br /></td></tr>
<tr class="separator:a1532f6ab958019eaf7f0539b4372ddd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7786cd1365e94feec0c93166438d24df" id="r_a7786cd1365e94feec0c93166438d24df"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="formulaExpander_8c.html#a7786cd1365e94feec0c93166438d24df">validateParentheses</a> (const char *inputFile)</td></tr>
<tr class="memdesc:a7786cd1365e94feec0c93166438d24df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates the balance of parentheses in each formula from a file.  <br /></td></tr>
<tr class="separator:a7786cd1365e94feec0c93166438d24df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation for expanding, validating, and processing chemical formulas. </p>
<p>This .c file provides implementations for expanding chemical formulas to their full representations, validating the balance of parentheses in chemical formulas, and counting protons based on expanded formulas using data from a periodic table. It utilizes stack operations extensively to manage elements and parentheses during the parsing and expansion processes.</p>
<p>Dependencies:</p><ul>
<li><a class="el" href="formulaExpander_8h.html" title="Header file for formula expansion, calculating protons and validating parentheses.">formulaExpander.h</a>: Header file with declarations for the functions implemented here.</li>
<li><a class="el" href="periodicTable_8h.html" title="Header file for handling operations related to the periodic table of elements.">periodicTable.h</a>: Provides support for element data management.</li>
<li><a class="el" href="unionStack_8h.html" title="Header file for the implementation of a stack that can hold both characters and Elements.">unionStack.h</a>: Defines stack operations used for managing elements and parentheses.</li>
</ul>
<p>Functions:</p><ul>
<li>processFormula(): Processes a single chemical formula to expand based on multipliers and parentheses.</li>
<li><a class="el" href="formulaExpander_8c.html#aab8540913ebd8281932958f8e6254483" title="Processes chemical formulas from a file and writes the expanded formulas to another file.">formulaProcessor()</a>: Reads formulas from a file, processes them, and writes results to another file.</li>
<li><a class="el" href="formulaExpander_8c.html#a1532f6ab958019eaf7f0539b4372ddd8" title="Counts the total number of protons in the chemical formulas found in a file.">countProtons()</a>: Calculates and writes the total number of protons for expanded formulas.</li>
<li><a class="el" href="formulaExpander_8c.html#a7786cd1365e94feec0c93166438d24df" title="Validates the balance of parentheses in each formula from a file.">validateParentheses()</a>: Checks if the parentheses in the chemical formulas are balanced.</li>
</ul>
<dl class="section author"><dt>Author</dt><dd>Panagiotis Tsembekis </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000006">Bug:</a></b></dt><dd>No known bugs. </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ab07a1e1ddfd2460566b01d3d9ce95bc9" name="ab07a1e1ddfd2460566b01d3d9ce95bc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab07a1e1ddfd2460566b01d3d9ce95bc9">&#9670;&#160;</a></span>MAX_FORMULA_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_FORMULA_LENGTH&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Buffer size for reading formulas. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a1532f6ab958019eaf7f0539b4372ddd8" name="a1532f6ab958019eaf7f0539b4372ddd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1532f6ab958019eaf7f0539b4372ddd8">&#9670;&#160;</a></span>countProtons()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void countProtons </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>inputFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>outputfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structElement.html">Element</a>&#160;</td>
          <td class="paramname"><em>periodicTable</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Counts the total number of protons in the chemical formulas found in a file. </p>
<p>This function reads expanded chemical formulas from a file and uses the provided periodic table to count the total number of protons for each formula. The result is written to the output file provided.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inputFile</td><td>The path to the input file containing the chemical formulas (not expanded). </td></tr>
    <tr><td class="paramname">outputFile</td><td>The path to the output file where the proton counts will be written. </td></tr>
    <tr><td class="paramname">periodicTable</td><td>An array of <code><a class="el" href="structElement.html" title="A structure representing an element in the periodic table.">Element</a></code> structures representing the periodic table, used to look up atomic numbers. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  220</span>                                                                                         {</div>
<div class="line"><span class="lineno">  221</span>    <span class="keywordtype">char</span> tempFile[] = <span class="stringliteral">&quot;expanded.txt&quot;</span>; <span class="comment">// file that we will store the expanded formulas</span></div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>    FILE *fp = fopen(tempFile, <span class="stringliteral">&quot;w+&quot;</span>); <span class="comment">// file for read&amp;write (created if not existant)</span></div>
<div class="line"><span class="lineno">  224</span>    <span class="keywordflow">if</span>(fp == NULL){</div>
<div class="line"><span class="lineno">  225</span>        perror(<span class="stringliteral">&quot;Unable to create file to store expanded formulas&quot;</span>);</div>
<div class="line"><span class="lineno">  226</span>        exit(EXIT_FAILURE);</div>
<div class="line"><span class="lineno">  227</span>    }</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span>    <a class="code hl_function" href="formulaExpander_8c.html#aab8540913ebd8281932958f8e6254483">formulaProcessor</a>(inputFile, tempFile); <span class="comment">// expand the formulas</span></div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>    FILE *fout = fopen(outputFile, <span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line"><span class="lineno">  232</span>    <span class="keywordflow">if</span>(fout == NULL){</div>
<div class="line"><span class="lineno">  233</span>        perror(<span class="stringliteral">&quot;Unable to open output file for count protons.&quot;</span>);</div>
<div class="line"><span class="lineno">  234</span>        fclose(fp);</div>
<div class="line"><span class="lineno">  235</span>        exit(EXIT_FAILURE);</div>
<div class="line"><span class="lineno">  236</span>    }</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span>    <span class="keywordtype">char</span> formula[<a class="code hl_define" href="formulaExpander_8c.html#ab07a1e1ddfd2460566b01d3d9ce95bc9">MAX_FORMULA_LENGTH</a>];</div>
<div class="line"><span class="lineno">  239</span>    <span class="keywordflow">while</span>(fgets(formula, <span class="keyword">sizeof</span>(formula), fp)){ <span class="comment">// read each formula 1 by 1</span></div>
<div class="line"><span class="lineno">  240</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *p = formula;</div>
<div class="line"><span class="lineno">  241</span>        <span class="keywordtype">int</span> totalAtomicNumber = 0;</div>
<div class="line"><span class="lineno">  242</span>        <span class="keywordflow">while</span>(*p != <span class="charliteral">&#39;\0&#39;</span>){ <span class="comment">// iterate up to the end</span></div>
<div class="line"><span class="lineno">  243</span>            <span class="keywordflow">if</span> (isalpha(*p)) { <span class="comment">// if is letter</span></div>
<div class="line"><span class="lineno">  244</span>                <a class="code hl_struct" href="structElement.html">Element</a> element;</div>
<div class="line"><span class="lineno">  245</span>                element.<a class="code hl_variable" href="structElement.html#a7cb753f990bd584d654b31b1d99c952e">atomicNumber</a> = 0;</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>                <span class="keywordflow">if</span>(isupper(*p) &amp;&amp; islower(*(p + 1)) &amp;&amp; islower(*(p + 2))){ <span class="comment">// three-letter elements</span></div>
<div class="line"><span class="lineno">  248</span>                    element.<a class="code hl_variable" href="structElement.html#a79e6e6a0f000f265edd826cb0a9fadda">chemSymbol</a>[0] = *p;</div>
<div class="line"><span class="lineno">  249</span>                    element.<a class="code hl_variable" href="structElement.html#a79e6e6a0f000f265edd826cb0a9fadda">chemSymbol</a>[1] = *(p + 1);</div>
<div class="line"><span class="lineno">  250</span>                    element.<a class="code hl_variable" href="structElement.html#a79e6e6a0f000f265edd826cb0a9fadda">chemSymbol</a>[2] = *(p + 2);</div>
<div class="line"><span class="lineno">  251</span>                    element.<a class="code hl_variable" href="structElement.html#a79e6e6a0f000f265edd826cb0a9fadda">chemSymbol</a>[3] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  252</span>                p += 2;</div>
<div class="line"><span class="lineno">  253</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isupper(*p) &amp;&amp; islower(*(p + 1))) { <span class="comment">// two-letter elements</span></div>
<div class="line"><span class="lineno">  254</span>                    element.<a class="code hl_variable" href="structElement.html#a79e6e6a0f000f265edd826cb0a9fadda">chemSymbol</a>[0] = *p;</div>
<div class="line"><span class="lineno">  255</span>                    element.<a class="code hl_variable" href="structElement.html#a79e6e6a0f000f265edd826cb0a9fadda">chemSymbol</a>[1] = *(p + 1);</div>
<div class="line"><span class="lineno">  256</span>                    element.<a class="code hl_variable" href="structElement.html#a79e6e6a0f000f265edd826cb0a9fadda">chemSymbol</a>[2] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  257</span>                    p++;  <span class="comment">// skip 2nd letter since we handled it above</span></div>
<div class="line"><span class="lineno">  258</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  259</span>                    <span class="comment">// Single-letter element</span></div>
<div class="line"><span class="lineno">  260</span>                    element.<a class="code hl_variable" href="structElement.html#a79e6e6a0f000f265edd826cb0a9fadda">chemSymbol</a>[0] = *p;</div>
<div class="line"><span class="lineno">  261</span>                    element.<a class="code hl_variable" href="structElement.html#a79e6e6a0f000f265edd826cb0a9fadda">chemSymbol</a>[1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  262</span>                }</div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span>                <span class="comment">// After constructing the element, look-up its atomic number</span></div>
<div class="line"><span class="lineno">  265</span>                element.<a class="code hl_variable" href="structElement.html#a7cb753f990bd584d654b31b1d99c952e">atomicNumber</a> = <a class="code hl_function" href="periodicTable_8h.html#a4088f70af50599cfd02f7a374bb09e9a">getAtomicNumber</a>(periodicTable, <a class="code hl_define" href="periodicTable_8h.html#af124795c150434ff274e1572bee8eba9">MAX_ELEMENTS</a>, element.<a class="code hl_variable" href="structElement.html#a79e6e6a0f000f265edd826cb0a9fadda">chemSymbol</a>);</div>
<div class="line"><span class="lineno">  266</span>                totalAtomicNumber += element.<a class="code hl_variable" href="structElement.html#a7cb753f990bd584d654b31b1d99c952e">atomicNumber</a>;</div>
<div class="line"><span class="lineno">  267</span>            }</div>
<div class="line"><span class="lineno">  268</span>            </div>
<div class="line"><span class="lineno">  269</span>            p++; <span class="comment">// move to next character of formula</span></div>
<div class="line"><span class="lineno">  270</span>        }</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>        fprintf(fout, <span class="stringliteral">&quot;%d\n&quot;</span>, totalAtomicNumber); <span class="comment">// print formula&#39;s atomic number in output file</span></div>
<div class="line"><span class="lineno">  273</span>    }</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="line"><span class="lineno">  275</span>    fclose(fp);</div>
<div class="line"><span class="lineno">  276</span>    fclose(fout);</div>
<div class="line"><span class="lineno">  277</span>}</div>
<div class="ttc" id="aformulaExpander_8c_html_aab8540913ebd8281932958f8e6254483"><div class="ttname"><a href="formulaExpander_8c.html#aab8540913ebd8281932958f8e6254483">formulaProcessor</a></div><div class="ttdeci">void formulaProcessor(const char *inputFile, const char *outputFile)</div><div class="ttdoc">Processes chemical formulas from a file and writes the expanded formulas to another file.</div><div class="ttdef"><b>Definition</b> formulaExpander.c:188</div></div>
<div class="ttc" id="aformulaExpander_8c_html_ab07a1e1ddfd2460566b01d3d9ce95bc9"><div class="ttname"><a href="formulaExpander_8c.html#ab07a1e1ddfd2460566b01d3d9ce95bc9">MAX_FORMULA_LENGTH</a></div><div class="ttdeci">#define MAX_FORMULA_LENGTH</div><div class="ttdoc">Buffer size for reading formulas.</div><div class="ttdef"><b>Definition</b> formulaExpander.c:32</div></div>
<div class="ttc" id="aperiodicTable_8h_html_a4088f70af50599cfd02f7a374bb09e9a"><div class="ttname"><a href="periodicTable_8h.html#a4088f70af50599cfd02f7a374bb09e9a">getAtomicNumber</a></div><div class="ttdeci">int getAtomicNumber(Element elements[], int n, const char *symbol)</div><div class="ttdoc">Retrieves the atomic number of an element based on its chemical symbol.</div><div class="ttdef"><b>Definition</b> periodicTable.c:69</div></div>
<div class="ttc" id="aperiodicTable_8h_html_af124795c150434ff274e1572bee8eba9"><div class="ttname"><a href="periodicTable_8h.html#af124795c150434ff274e1572bee8eba9">MAX_ELEMENTS</a></div><div class="ttdeci">#define MAX_ELEMENTS</div><div class="ttdoc">Maximum number of elements in the periodic table.</div><div class="ttdef"><b>Definition</b> periodicTable.h:18</div></div>
<div class="ttc" id="astructElement_html"><div class="ttname"><a href="structElement.html">Element</a></div><div class="ttdoc">A structure representing an element in the periodic table.</div><div class="ttdef"><b>Definition</b> periodicTable.h:34</div></div>
<div class="ttc" id="astructElement_html_a79e6e6a0f000f265edd826cb0a9fadda"><div class="ttname"><a href="structElement.html#a79e6e6a0f000f265edd826cb0a9fadda">Element::chemSymbol</a></div><div class="ttdeci">char chemSymbol[4]</div><div class="ttdoc">The chemical symbol of the element, represented as a string of up to 3 characters + 1 for '\0'.</div><div class="ttdef"><b>Definition</b> periodicTable.h:35</div></div>
<div class="ttc" id="astructElement_html_a7cb753f990bd584d654b31b1d99c952e"><div class="ttname"><a href="structElement.html#a7cb753f990bd584d654b31b1d99c952e">Element::atomicNumber</a></div><div class="ttdeci">int atomicNumber</div><div class="ttdoc">The atomic number of the element.</div><div class="ttdef"><b>Definition</b> periodicTable.h:36</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="structElement.html#a7cb753f990bd584d654b31b1d99c952e">Element::atomicNumber</a>, <a class="el" href="structElement.html#a79e6e6a0f000f265edd826cb0a9fadda">Element::chemSymbol</a>, <a class="el" href="formulaExpander_8c.html#aab8540913ebd8281932958f8e6254483">formulaProcessor()</a>, <a class="el" href="periodicTable_8h.html#a4088f70af50599cfd02f7a374bb09e9a">getAtomicNumber()</a>, <a class="el" href="periodicTable_8h.html#af124795c150434ff274e1572bee8eba9">MAX_ELEMENTS</a>, and <a class="el" href="formulaExpander_8c.html#ab07a1e1ddfd2460566b01d3d9ce95bc9">MAX_FORMULA_LENGTH</a>.</p>

<p class="reference">Referenced by <a class="el" href="parseFormula_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>.</p>

</div>
</div>
<a id="aab8540913ebd8281932958f8e6254483" name="aab8540913ebd8281932958f8e6254483"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab8540913ebd8281932958f8e6254483">&#9670;&#160;</a></span>formulaProcessor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void formulaProcessor </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>inputFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>outputFile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes chemical formulas from a file and writes the expanded formulas to another file. </p>
<p>This function reads chemical formulas from a specified input file, expands them, and writes the expanded formulas to a specified output file. The expansion process involves replacing compact chemical notation with the full repeated elements.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inputFile</td><td>The path to the input file containing original compact formulas. </td></tr>
    <tr><td class="paramname">outputFile</td><td>The path to the output file where expanded formulas will be written. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  188</span>                                                                     {</div>
<div class="line"><span class="lineno">  189</span>    FILE *fin = fopen(inputFile, <span class="stringliteral">&quot;r&quot;</span>); <span class="comment">// open file for read-only</span></div>
<div class="line"><span class="lineno">  190</span>    <span class="keywordflow">if</span> (fin == NULL) { <span class="comment">// ensure proper file opening</span></div>
<div class="line"><span class="lineno">  191</span>        perror(<span class="stringliteral">&quot;Unable to open input file for formula expansion.&quot;</span>);</div>
<div class="line"><span class="lineno">  192</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  193</span>    }</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>    FILE *fout = fopen(outputFile, <span class="stringliteral">&quot;w&quot;</span>); <span class="comment">// open file for write-only</span></div>
<div class="line"><span class="lineno">  196</span>    <span class="keywordflow">if</span> (fout == NULL) { <span class="comment">// ensure proper file opening</span></div>
<div class="line"><span class="lineno">  197</span>        perror(<span class="stringliteral">&quot;Unable to open output file for writing.&quot;</span>);</div>
<div class="line"><span class="lineno">  198</span>        fclose(fin);</div>
<div class="line"><span class="lineno">  199</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  200</span>    }</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>    <span class="keywordtype">char</span> formula[<a class="code hl_define" href="formulaExpander_8c.html#ab07a1e1ddfd2460566b01d3d9ce95bc9">MAX_FORMULA_LENGTH</a>];</div>
<div class="line"><span class="lineno">  203</span>    <span class="keywordflow">while</span> (fgets(formula, <span class="keyword">sizeof</span>(formula), fin)) {</div>
<div class="line"><span class="lineno">  204</span>        formula[strcspn(formula, <span class="stringliteral">&quot;\n&quot;</span>)] = <span class="charliteral">&#39;\0&#39;</span>; <span class="comment">// replace newline character with terminating character</span></div>
<div class="line"><span class="lineno">  205</span>        <span class="keywordtype">char</span> *expandedFormula = processFormula(formula); <span class="comment">// calculate expanded formula</span></div>
<div class="line"><span class="lineno">  206</span>        <span class="keywordflow">if</span> (expandedFormula) { <span class="comment">// check wether the formula returned is null (error) or not and print accordingly</span></div>
<div class="line"><span class="lineno">  207</span>            fprintf(fout, <span class="stringliteral">&quot;%s\n&quot;</span>, expandedFormula);</div>
<div class="line"><span class="lineno">  208</span>            free(expandedFormula);</div>
<div class="line"><span class="lineno">  209</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  210</span>            printf(<span class="stringliteral">&quot;Error processing formula: %s\n&quot;</span>, formula);</div>
<div class="line"><span class="lineno">  211</span>        }</div>
<div class="line"><span class="lineno">  212</span>    }</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>    fclose(fin);</div>
<div class="line"><span class="lineno">  215</span>    fclose(fout);</div>
<div class="line"><span class="lineno">  216</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="formulaExpander_8c.html#ab07a1e1ddfd2460566b01d3d9ce95bc9">MAX_FORMULA_LENGTH</a>.</p>

<p class="reference">Referenced by <a class="el" href="formulaExpander_8h.html#afcca726fe4a1ca4407ce367a39b78dfd">countProtons()</a>, and <a class="el" href="parseFormula_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>.</p>

</div>
</div>
<a id="a7786cd1365e94feec0c93166438d24df" name="a7786cd1365e94feec0c93166438d24df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7786cd1365e94feec0c93166438d24df">&#9670;&#160;</a></span>validateParentheses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool validateParentheses </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>inputFile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validates the balance of parentheses in each formula from a file. </p>
<p>This function opens a file, reads each line as a formula, and checks whether the parentheses in the formula are balanced by calling <code>checkParentheses</code>. If an imbalance is found, it prints an error message indicating the line number. The function returns true if all formulas in the file are balanced, and false otherwise.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inputFile</td><td>A null-terminated string representing the path to the input file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if all formulas in the file have balanced parentheses, false otherwise. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  335</span>                                                {</div>
<div class="line"><span class="lineno">  336</span>    FILE *fp = fopen(inputFile, <span class="stringliteral">&quot;r&quot;</span>); <span class="comment">// open file for reading the formulas</span></div>
<div class="line"><span class="lineno">  337</span>    <span class="keywordflow">if</span> (fp == NULL) {</div>
<div class="line"><span class="lineno">  338</span>        perror(<span class="stringliteral">&quot;Error opening file for parentheses validation.&quot;</span>);</div>
<div class="line"><span class="lineno">  339</span>        <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line"><span class="lineno">  340</span>    }</div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>    <span class="keywordtype">char</span> formula[<a class="code hl_define" href="formulaExpander_8c.html#ab07a1e1ddfd2460566b01d3d9ce95bc9">MAX_FORMULA_LENGTH</a>];</div>
<div class="line"><span class="lineno">  343</span>    <span class="keywordtype">int</span> lineIndex = 0;</div>
<div class="line"><span class="lineno">  344</span>    <span class="keywordtype">bool</span> overallValid = <span class="keyword">true</span>; <span class="comment">// assume that all formulas are balanced</span></div>
<div class="line"><span class="lineno">  345</span> </div>
<div class="line"><span class="lineno">  346</span>    <span class="keywordflow">while</span> (fgets(formula, <span class="keyword">sizeof</span>(formula), fp) != NULL) { <span class="comment">// read line-by-line</span></div>
<div class="line"><span class="lineno">  347</span>        lineIndex++;</div>
<div class="line"><span class="lineno">  348</span>        <span class="keywordflow">if</span> (formula[strlen(formula) - 1] == <span class="charliteral">&#39;\n&#39;</span>) {</div>
<div class="line"><span class="lineno">  349</span>            formula[strlen(formula) - 1] = <span class="charliteral">&#39;\0&#39;</span>; <span class="comment">// Remove the newline character, if present</span></div>
<div class="line"><span class="lineno">  350</span>        }</div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>        <span class="keywordtype">bool</span> valid = checkParentheses(formula);</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>        <span class="keywordflow">if</span> (!valid) { <span class="comment">// If not valid, print the error message</span></div>
<div class="line"><span class="lineno">  355</span>            printf(<span class="stringliteral">&quot;Parentheses NOT balanced in line: %d\n&quot;</span>, lineIndex);</div>
<div class="line"><span class="lineno">  356</span>            overallValid = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  357</span>        }</div>
<div class="line"><span class="lineno">  358</span>    }</div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span>    fclose(fp);</div>
<div class="line"><span class="lineno">  361</span>    <span class="keywordflow">return</span> overallValid; <span class="comment">// return overall parentheses balance of file</span></div>
<div class="line"><span class="lineno">  362</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="formulaExpander_8c.html#ab07a1e1ddfd2460566b01d3d9ce95bc9">MAX_FORMULA_LENGTH</a>.</p>

<p class="reference">Referenced by <a class="el" href="parseFormula_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
